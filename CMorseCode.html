<p class="paragraph"><b><u>Purpose:</u></b><u> </u></p>

<p class="paragraph" style='margin-left:36.0pt'>To convert text to Morse Code on
any digital pin or other device. You need to define a function that does the
actual transmit – set a pin to high or transmit data to a device.</p>

<p class="paragraph"> </p>

<p class="paragraph"><b><u>Dependancies:</u></b> </p>

<p class="paragraph" style='text-indent:36.0pt'>Constants.h, Common.h/cpp,
CBuff.h/cpp, CString.h/cpp, debug.h/cpp.</p>

<p class="paragraph">&nbsp;</p>

<p class="paragraph"><b><u>Class CMorseCode:</u></b></p>

<p class="paragraph" style='text-indent:36.0pt'><b><u>Constructors:</u></b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'>&nbsp;&nbsp;
<b><u>CMorseCode
()</u></b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'>                No
parameters necessary.</p>

<p class="paragraph">                </p>

<p class="paragraph" style='text-indent:36.0pt'><b><u>Functions:</u></b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    void
doSendMessage(const char *cstrMessage)</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    void
doSendMessage(const __FlashStringHelper *fstrMessage)</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>                </b>Sends
the specified message.<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cstrMessage
or fstrMessage: </b>contains the text message.</p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'>&nbsp;</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    void
setTransmitFunction(TransmitFunctionPtr pFunction)</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'>                This
function you must code yourself to set send a dot or a dash to what ever device
is generating the audio signal.<br>
                           The function should have this foot print: void FunctionName(const
uint16_t nDelay) where nDelay specifies the dot<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; or dash delay time in milliseconds.<b><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pFunction:
</b>a pointer to your send function.</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>&nbsp;</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    void
setDelayMillis(const uint16_t nDelayMillis)</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>                </b>Sets
the delay in milliseconds until transmission of the next dot or dash.<br><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nDelayMillis:
</b>delay in milliseconds.</p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'>&nbsp;</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>   
uint16_t getDelayMillis()</b></p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>                Returns:
</b>the delay in milliseconds until transmission of the next dots or dash.</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'>&nbsp;</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    void
setDelayMillisChar(const uint16_t nDelayMillis)</b></p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'>    Sets the delay
in milliseconds until transmission of the character.</p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'><b>    nDelayMillis:
</b>delay in milliseconds.</p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'>&nbsp;</p>

<p class="paragraph" style='margin-left:36.0pt;text-indent:36.0pt'><b>    uint16_t
getDelayMillisChar()</b></p>

<p class="paragraph" style='margin-left:72.0pt;text-indent:36.0pt'><b>&nbsp;&nbsp;&nbsp; Returns: </b>the
delay in milliseconds until transmission of the next character.</p>

<p class="paragraph"><b><u>Example Usage:</u></b> </p>
<p class="paragraph" style='margin-left:36.0pt'>
CMorseCode g_MorseCode;<br/><br/>

void doTransmit(const uint16_t nDelayMillis)<br/>
{<br/>
  const uint32_t nMillisEnd = millis() + nDelayMillis;<br/>
  <br/>
  g_tonePlayer.play(NOTE_B5);<br/>
  while (millis() <= nMillisEnd)<br/>
  uint32_t nMillisEnd = millis() + nDelayMillis;<br/>
  while (millis() <= nMillisEnd);<br/>
  g_tonePlayer.stop();<br/>
}<br/>
g_MorseCode.setTransmitFunction(doTransmit);<br/>
g_MorseCode.setDelayMillis(g_nDelayMillis);<br/>
</p>
