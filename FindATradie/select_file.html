<script type="text/javascript">

	let g_nMaxFileSizeBytes = 500000;
	
	function DoImagePreview()
	{
		let imgPreview = document.getElementById("image_preview"),
			inputFile = document.getElementById("file_name");
		
		if (imgPreview)
		{
			imgPreview.src = URL.createObjectURL(inputFile.files[0]);
		}
	}
	
	function OnChangeFile(inputFile)
	{
		if (inputFile.files[0].size > g_nMaxFileSizeBytes)
		{
			AlertError("File size cannot exceed " + g_nMaxFileSizeBytes.toString() + " kilobytes!");
		}
		else
		{							
			DoImagePreview();
		}
	}
	
	function SetMaxFileSize(nMaxFileSize)
	{
		g_nMaxFileSizeBytes = nMaxFileSize;
	}

</script>

			<tr>
				<td class="cell_no_borders" style="text-align:right;vertical-align:middle;">
					<b>Select a new profile image</b>
				</td>
				<td class="cell_no_borders" style="vertical-align:middle;">
					<input type="file" required id="file_name" name="file_name" accept=".jpg, .png, .jpeg, .gif|image/*" onchange="OnChangeFile(this)"/>
				</td>
			</tr>
			<tr>
				<td class="cell_no_borders" style="text-align:right;vertical-align:middle;">
					<b>Image preview</b>
				</td>
				<td class="cell_no_borders" style="vertical-align:middle;text-align:left;">
					<img src="" id="image_preview" width="200" />
				</td>
			</tr>

<script type="text/javascript">
	
	function SetAccepts(strAccept)
	{
		DoGetInput("file_name").accept = strAccept;
	}
	
</script>