<p class="paragraph"><b><u>Purpose:</u></b><u>
</u></p>

<p class="paragraph" style="margin-left:36pt;"> To implement the functionality of
a voltage divider on an analogue pin. It automatically sets the specified pin
to input mode and does the <br>
conversion of ADC integer to analogue voltage. It is useful if you are using more
than one voltage divider. Class CVoltageDivider implements<br>
a single voltage divider. Class CVoltageDividerArray implements an array of voltage dividers
as a template class.</p>

<p class="paragraph"></p>
<p class="paragraph"><b><u>Dependancies:</u></b> </p>

<p class="paragraph" style="margin-left:36pt;">Constants.h, Common.h/cpp, CBuff.h/cpp, CString.h/cpp, debug.h/cpp.</p>

<p class="paragraph"></p>

<p class="paragraph"><b><u>class</u></b><b><u> CVoltageDivider</u></b></p>

<p class="paragraph" style="margin-left:36pt;"><b><u>Constructors</u></b></p>

<p class="paragraph" style="margin-left:72pt;"><b>CVoltageDivider</b><b>(</b><b>const</b><b> int8_t nPin = -1)</b></p>

<p class="paragraph" style="margin-left:108pt;">Sets the pin for the voltage divider.<br/>

<b>nPin</b><b>: </b>the input pin for the voltage divider – assumed to be an analogue pin.<b></b></p>

<p class="paragraph"><b><u></u></b></p>

<p class="paragraph" style="margin-left:36pt;"><b><u>Functions:</u></b></p>

<p class="paragraph" style="margin-left:72pt;"><b>void</b><b> begin()</b></p>

<p class="paragraph" style="margin-left:108pt;"><b></b>Must be called to set the pin into input mode.<b></b></p>

<p class="paragraph" style="margin-left:72pt;"><b>float readVoltage()</b></p>

<p class="paragraph" style="margin-left:108pt;">Reads the input pin and returns the analogue voltage.<b></b></p>

<p class="paragraph" style="margin-left:72pt;"><b>void setPin(const int8_t nPin)</b></p>

<p class="paragraph" style="margin-left:108pt;">Sets or changes the input pin used with the voltage divider.<br/>

<b>nPin: </b>the pin used with the voltage divider – assumed to be an analogue pin.<b></b></p>

<p class="paragraph" style="margin-left:72pt;"><b>int8_t getPin()</b><br/>

<b>Returns:</b>the input pin used for the voltage divider.<b></b></p>

<p class="paragraph"></p>

<p class="paragraph"><b><u>class</u></b><b><u> CVoltageDividerArray</u></b></p>

<p class="paragraph" style="margin-left:36pt;"><b><u>Constructors</u></b></p>
<p class="paragraph" style="margin-left:72pt;"><b>CVoltageDividerArray</b><b>()</b><b></b></p>

<p class="paragraph" style="margin-left:108pt;">No parameters necessary</p>

<p class="paragraph"></p>

<p class="paragraph" style="margin-left:36pt;"><b><u>Functions:</u></b></p>
<p class="paragraph" style="margin-left:72pt;"><b>void</b><b> begin()</b></p>

<p class="paragraph" style="margin-left:108.0pt;"> Must be called to set all the pins into input mode.</p>
<p class="paragraph" style="margin-left:72.0pt;"><b>void setPin(const uint8_t nI, const uint8_t nPin)</b></p>

<p class="paragraph" style="margin-left:108pt;">Sets or changes the input pin used with the voltage divider.<br/>

<b>nI: </b>index of the pin. If nI is greater than the length of the array then the function call is ignored.<br/>

<b>nPin: </b>the pin used with the voltage divider – assumed to be an analogue pin.<b></b></p>

<p class="paragraph" style="margin-left:72.0pt;"><b>float readVoltageIndex(const uint8_t nI)</b></p>

<p class="paragraph" style="margin-left:108pt;">Reads the specified input pin and returns the analogue voltage.<br/>

<b>nI: </b>index of the input pin.<br/>

<b>Returns: </b>the analogue voltage if nI is in range, otherwise 0.0</p>

<p class="paragraph" style="margin-left:72.0pt;"><b>float readVoltagePin(const uint8_t nPin)</b></p>

<p class="paragraph" style="margin-left:108pt;">Reads the input pin and returns the analogue voltage.<br/>

<b>nPin: </b>the analogue pin number.<br/>

<b>Returns: </b>the analogue voltage if nPin is present in the array, otherwise 0.0</p>

<p class="paragraph" style="margin-left:72.0pt;"><b>void dump()</b></p>

<p class="paragraph" style="margin-left:108.0pt;"><b></b>For debugging purposes. It simply reads all the pins and display the analogue voltages.</p>

<p class="paragraph">&nbsp;</p>

<p class="paragraph"><b><u>Example Usage</u></b></p>

<p class="paragraph">                CVoltageDivider VD(A0);</p>

<p class="paragraph">                VD.begin();</p>

<p class="paragraph">                Serial.println(VD.readVoltage());</p>

<p class="paragraph">                VD.setPin(A1);</p>

<p class="paragraph">                VD.begin();</p>

<p class="paragraph">                Serial.println(VD.readVoltage());</p>

<p class="paragraph"></p>

<p class="paragraph">                CVoltageDividerArray&lt;5&gt;
VDA;</p>

<p class="paragraph">                VDA.setPin(0, A0);</p>

<p class="paragraph">                VDA.setPin(1, A1);</p>

<p class="paragraph">                VDA.setPin(2, A2);</p>

<p class="paragraph">                VDA.setPin(3, A3);</p>

<p class="paragraph">                VDA.setPin(4, A4);</p>

<p class="paragraph">                VDA.begin();</p>

<p class="paragraph">                Serial.println(VDA.readVoltageIndex(0));</p>

<p class="paragraph">                Serial.println(VDA.readVoltagePin(A0));</p>

<p class="paragraph">                VDA.dump();</p>

